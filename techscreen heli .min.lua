a={}a.Objects={}function a:draw()for b,c in pairs(self.Objects)do c:draw()end end;function e(d,f,g,h,i,j)return d>=g and d<=g+i and f>=h and f<=h+j end;function a:callbacks(d,f)for b,c in pairs(self.Objects)do if c.ckbl then if e(d,f,c.x,c.y,c.w,c.h)then c:cb()end end end end;l={}function l.new(k,m,n,o,p,q)local r={}r.name=k;r.x=m;r.y=n;r.w=o;r.h=p;r.ckbl=q;for b,s in pairs(l)do r[b]=s end;a.Objects[k]=r;return r end;function l:draw()end;u={}function u.new(k,m,n,t,v,w,x,y)local r=l.new(k,m,n,string.len(v)*5+1,7,true)r.OF=t;r.text=v;r.colorOff=w;r.colorOn=x;r.cb=y;for b,s in pairs(u)do r[b]=s end;return r end;function u:draw()if self.OF then B=self.colorOn else B=self.colorOff end;screen.setColor(B[1],B[2],B[3])screen.drawText(self.x+1,self.y+1,self.text)screen.drawRect(self.x,self.y,string.len(self.text)*5+1,7)end;D={}function D.new(k,z,m,n,o,p,q,A,C,E,F)local r=l.new(k,m,n,o,p,q)r.lbl=z;r.val=A;r.minv=C;r.maxv=E;r.cb=F;for b,s in pairs(D)do r[b]=s end;return r end;J={}function J.new(k,z,m,n,o,q,A,C,E,G,F)local self=D.new(k,z,m,n,o,5,q,A,C,E,F)self.col=G;for b,s in pairs(J)do self[b]=s end;return self end;function J:draw()local r=self;local H,I=(r.val-r.minv)/(r.maxv-r.minv),(0-r.minv)/(r.maxv-r.minv)local K,L=math.min(1,math.max(0,H)),math.min(1,math.max(0,I))screen.setColor(r.col[1],r.col[2],r.col[3])screen.drawRectF(r.x+5+(r.w-5)*L,r.y,(r.w-5)*(K-L),r.h)screen.setColor(255,255,255)if H>1 or H<0 then screen.setColor(255,0,0)end;screen.drawRect(r.x+5,r.y,r.w-5,r.h)screen.drawLine(r.x+5+(r.w-5)*L,r.y,r.x+5+(r.w-5)*L,r.y+r.h)screen.drawText(r.x,r.y,r.lbl)end;Q={}function Q.new(k,z,m,n,p,q,A,C,E,G,F)local self=D.new(k,z,m,n,4,p,q,A,C,E,F)self.col=G;for b,s in pairs(Q)do self[b]=s end;return self end;function Q:draw()local r=self;local H,I=(r.val-r.minv)/(r.maxv-r.minv),(0-r.minv)/(r.maxv-r.minv)local K,L=math.min(1,math.max(0,H)),math.min(1,math.max(0,I))screen.setColor(r.col[1],r.col[2],r.col[3])screen.drawRectF(r.x,r.y+6+(r.h-6)*(1-L),r.w,(r.h-6)*(L-K))screen.setColor(255,255,255)if H>1 or H<0 then screen.setColor(255,0,0)end;screen.drawRect(r.x,r.y+6,r.w,r.h-6)screen.drawLine(r.x,r.y+6+(r.h-6)*(1-L),r.x+r.w,r.y+6+(r.h-6)*(1-L))screen.drawText(r.x,r.y,r.lbl)end;R={}function R.new(k,m,n,o,p,M,N,G)local r=l.new(k,m,n,o,p,false)r.valD=M;r.dur=N;r.col=G;r.tpp=N/o;r.vt={}for O=1,o,1 do r.vt[O]=0 end;r.lvt=0;for b,s in pairs(R)do r[b]=s end;return r end;function R:draw()local r=self;local I,P,S=(0-r.valD.minv)/(r.valD.maxv-r.valD.minv),0,0;local L=math.min(1,math.max(0,I))screen.setColor(255,255,255)screen.drawRect(r.x,r.y,r.w,r.h)screen.drawText(r.x+1,r.y+1,r.valD.lbl)for O=1,r.w,4 do screen.drawLine(r.x+O,r.y+r.h*(1-L),r.x+O+1,r.y+r.h*(1-L))end;screen.setColor(r.col[1],r.col[2],r.col[3])S=math.min(1,math.max(0,(r.vt[1]-r.valD.minv)/(r.valD.maxv-r.valD.minv)))for O=2,r.w,1 do P=S;S=math.min(1,math.max(0,(r.vt[O]-r.valD.minv)/(r.valD.maxv-r.valD.minv)))screen.drawLine(r.x+r.w-O+1,r.y+r.h*(1-P),r.x+r.w-O,r.y+r.h*(1-S))end;if(X-r.lvt)%6000>r.tpp then for O=r.w,2,-1 do r.vt[O]=r.vt[O-1]end;r.vt[1]=r.valD.val;r.lvt=X end end;function Y(T)T.OF=not T.OF end;function _(c)for O=1,a0.w,1 do a0.vt[O]=0 end;a0.valD=c end;a1=J.new("rps","E",1,1,25,true,4,5,20,{255,50,0},_)a2=J.new("thrtl","T",1,9,25,true,0,0,1,{0,255,20},_)a3=J.new("yaw","Y",1,17,25,true,0,-0.1,0.4,{0,122,255},_)a4=J.new("roll","R",1,25,25,true,0,-1,1,{0,122,255},_)a5=Q.new("pitch","P",7,33,25,true,0,-1,1,{0,122,255},_)a6=Q.new("Col","C",14,33,25,true,0,-1,1,{0,122,255},_)a0=R.new("pitchG",27,1,37,63,a5,180,{0,0,255})X=0;function onTick()X=X+1%6000;a7=input.getBool(1)a9=input.getBool(2)aa=a7 and not ab;ac=a9 and not ad;ab=a7;ad=a9;ae=input.getNumber(1)af=input.getNumber(2)ag=input.getNumber(3)ah=input.getNumber(4)ai=input.getNumber(5)aj=input.getNumber(6)a1.val=input.getNumber(7)a2.val=input.getNumber(8)a3.val=input.getNumber(9)a4.val=input.getNumber(10)a5.val=input.getNumber(11)a6.val=input.getNumber(12)if aa then a:callbacks(ag,ah)end end;function onDraw()a:draw()end